{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Digital Twin | Viewer</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />

  <!-- Leaflet -->
  <link rel="stylesheet"
        href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
        crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
          integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
          crossorigin=""></script>

  <!-- APS Viewer -->
  <link rel="stylesheet"
        href="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/style.min.css" />
  <script src="https://developer.api.autodesk.com/modelderivative/v2/viewers/7.*/viewer3D.min.js"></script>

  <!-- Nosso CSS -->
  <link rel="stylesheet" href="{% static 'css/viewer.css' %}">
</head>
<body>
  <div class="shell">
    <header>
      <div class="logo"><img src="{% static 'img/digital-twin-assist.png' %}">Digital Twin Assist</div>
      <div class="search"><input id="q" placeholder="Buscar ativo ou sensorâ€¦" /></div>
      <div class="user" id="who">Carregandoâ€¦</div>
    </header>

  <aside>
  <div class="sicon active" title="Mapa">ğŸ—ºï¸</div>
  <div class="sicon" title="Eventos">ğŸ””</div>
  <div class="sicon disabled" id="btn-grafana" title="RelatÃ³rios (Grafana)">ğŸ“Š</div>
  <div class="sicon" title="KPI">ğŸ·ï¸</div>
  <div class="sicon" title="Sair" id="logout">â‹</div>
  </aside>


    <section class="center"><div id="map"></div></section>

    <section class="right">
      <div class="r-head">
        <h3 id="p-title">Selecione uma planta no mapa</h3>
        <div class="muted" id="p-sub">Cliente â€¢ Setor â€¢ Planta</div>
      </div>

      <div class="stats">
        <div class="stat"><small>Ativos</small><b id="k-ativos">â€”</b></div>
        <div class="stat"><small>Sensores</small><b id="k-sensores">â€”</b></div>
        <div class="stat"><small>Gateways</small><b id="k-gw">â€”</b></div>
      </div>

      <div class="events">
        <div class="muted" style="margin:6px 0 4px">Eventos recentes</div>
        <div class="muted" style="margin:10px 0 4px">Tempo real (MQTT)</div>
<div id="mqtt-list" class="events"></div>
        <div id="events-list"></div>
      </div>
    </section>
  </div>

  <!-- Overlay do APS Viewer -->
  <div id="aps-overlay">
    <div id="aps-wrap">
      <div id="aps-top">
        <strong>APS Viewer</strong>
        <button id="aps-close">Fechar</button>
      </div>
      <div id="aps-viewer"></div>
    </div>
  </div>

  <!-- Nosso JS -->
  <script src="{% static 'js/viewer.js' %}"></script>
</body>
</html>
